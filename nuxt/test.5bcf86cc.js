import{w as l,r as h,o as i,b as _,e as t,l as m,m as f,u as n,p as c,q as k}from"./entry.afb09963.js";const g=k("Go Home"),v={key:0},w=t("p",null,"something went wrong",-1),y={key:1},x=t("br",null,null,-1),B=t("br",null,null,-1),V={__name:"test",async setup(N){let e,o;const p=localStorage.getItem("auth-token");var s,a;const r=([e,o]=l(()=>fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${p}`}})),e=await e,o(),e);return r.ok?s=([e,o]=l(()=>r.json()),e=await e,o(),e):a=([e,o]=l(()=>r.text()),e=await e,o(),e),(b,C)=>{var u;const d=h("router-link");return i(),_("div",null,[t("div",null,[m(d,{to:"/"},{default:f(()=>[g]),_:1})]),n(a)?(i(),_("div",v,[w,t("p",null,c(n(a)),1)])):(i(),_("div",y,[x,t("p",null,"You are logged in as "+c((u=n(s))==null?void 0:u.display_name),1),B,t("p",null,c(JSON.stringify(n(s))),1)]))])}}};export{V as default};
