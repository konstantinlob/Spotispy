import{e as h,w as r,r as m,o as i,a as _,b as t,l as f,m as g,u as s,t as c,q as k}from"./entry.fbdd494c.js";const v=k("Go Home"),w={key:0},y=t("p",null,"something went wrong",-1),x={key:1},B=t("br",null,null,-1),N=t("br",null,null,-1),V={__name:"test",async setup(b){let e,o;const u=localStorage.getItem("auth-token");var a,l;if(!u)h("/login");else{const n=([e,o]=r(()=>fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${u}`}})),e=await e,o(),e);n.ok?a=([e,o]=r(()=>n.json()),e=await e,o(),e):l=([e,o]=r(()=>n.text()),e=await e,o(),e)}return(n,C)=>{var d;const p=m("router-link");return i(),_("div",null,[t("div",null,[f(p,{to:"/"},{default:g(()=>[v]),_:1})]),s(l)?(i(),_("div",w,[y,t("p",null,c(s(l)),1)])):(i(),_("div",x,[B,t("p",null,"You are logged in as "+c((d=s(a))==null?void 0:d.display_name),1),N,t("p",null,c(JSON.stringify(s(a))),1)]))])}}};export{V as default};
