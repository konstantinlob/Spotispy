import{b as h,w as l,r as m,o as i,e as _,f as t,m as f,p as g,u as s,t as c,q as k}from"./entry.91eb35fb.js";const v=k("Go Home"),w={key:0},y=t("p",null,"something went wrong",-1),x={key:1},B=t("br",null,null,-1),N=t("br",null,null,-1),V={__name:"test",async setup(b){let e,o;const u=localStorage.getItem("auth-token");var a,r;if(!u)h("/login");else{const n=([e,o]=l(()=>fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${u}`}})),e=await e,o(),e);n.ok?a=([e,o]=l(()=>n.json()),e=await e,o(),e):r=([e,o]=l(()=>n.text()),e=await e,o(),e)}return(n,C)=>{var p;const d=m("router-link");return i(),_("div",null,[t("div",null,[f(d,{to:"/"},{default:g(()=>[v]),_:1})]),s(r)?(i(),_("div",w,[y,t("p",null,c(s(r)),1)])):(i(),_("div",x,[B,t("p",null,"You are logged in as "+c((p=s(a))==null?void 0:p.display_name),1),N,t("p",null,c(JSON.stringify(s(a))),1)]))])}}};export{V as default};
