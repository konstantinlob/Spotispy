import{a as $,i as C,o as i,b as c,e as s,j as k,u as o,k as g,w as P,l as v,m as y,p as T,q as w,r as j,c as S,T as E}from"./entry.92c955e0.js";const N={class:"w-full flex justify-around font-bold pt-6 pb-2"},B=$({__name:"TimeframeSelection",setup(p){const t=C("activeTimeframe",()=>0);return(r,e)=>(i(),c("div",N,[s("span",{class:k(["cursor-pointer relative hidden-green-underline hover:text-spotify-green transition-colors",[o(t)===0?"before:w-full !text-white":"before:w-0"]]),onClick:e[0]||(e[0]=_=>t.value=0)}," last month ",2),s("span",{class:k(["cursor-pointer relative hidden-green-underline hover:text-spotify-green transition-colors",[o(t)===1?"before:w-full !text-white":"before:w-0"]]),onClick:e[1]||(e[1]=_=>t.value=1)}," last 6 months ",2),s("span",{class:k(["cursor-pointer relative hidden-green-underline hover:text-spotify-green transition-colors",[o(t)===2?"before:w-full !text-white":"before:w-0"]]),onClick:e[2]||(e[2]=_=>t.value=2)}," last year ",2)]))}}),M=g(B,[["__scopeId","data-v-ef87060b"]]),O={},q={class:"bg-purple w-full h-full rounded-md"};function A(p,t){return i(),c("div",q,"Purple Placeholder")}const z=g(O,[["render",A]]),G={},I={class:"bg-spotify-green w-full h-full rounded-md"};function U(p,t){return i(),c("div",I,"Green Placholder")}const V=g(G,[["render",U]]);function m({endpoint:p,query:t,body:r,method:e,headers:_}){const a=localStorage.getItem("auth-token");if(!a)throw new Error("not logged in");const d=new URL(`https://api.spotify.com/v1${p}`);return t&&Object.entries(t).forEach(([l,f])=>d.searchParams.append(l,f)),fetch(d,{method:e!=null?e:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json",..._},body:r?JSON.stringify(r):void 0}).then(l=>l.json()).then(l=>{if(l.error)throw l.error;return l})}const D={key:0,class:"bg-spotify-green bg-opacity-50"},J={key:0},F={class:"flex h-16 justify-start"},L={class:"h-full p-1"},R=["src"],H={class:"my-auto"},K={class:"text-white"},Q={class:"text-gray"},W={class:"my-auto w-24 text-center self-center"},X={key:0,class:"flex align-baseline justify-evenly"},Y={class:"h-1 relative"},Z=s("div",{class:"absolute bg-gray h-full w-full"},null,-1),ee={key:1,class:"text-center h-16"},te=$({__name:"MusicPlayer",async setup(p){let t,r;const e=C("$y4C0JPT9MN"),_=([t,r]=P(()=>m({endpoint:"/me"})),t=await t,r(),t);d();function a(n){if(n===null)return"~:~";const u=Math.floor(n/1e3);return`${Math.floor(u/60)}:${(u%60).toString().padStart(2,"0")}`}function d(){m({endpoint:"/me/player",query:{additional_types:"track",market:_.country}}).then(n=>{e.value=n}).catch(n=>{console.error(n)}).finally(()=>{setTimeout(()=>d(),500)})}function l(){m({endpoint:"/me/player/previous",method:"POST"}).catch(n=>{alert(n.message)})}function f(){e.value.is_playing?m({endpoint:"/me/player/pause",method:"PUT",query:{device_id:e.value.device.id}}).catch(n=>{alert(n.message)}):m({endpoint:"/me/player/play",method:"PUT",query:{device_id:e.value.device.id}}).catch(n=>{alert(n.message)})}function x(){m({endpoint:"/me/player/next",method:"POST"}).catch(n=>{alert(n.message)})}return(n,u)=>{var b;return i(),c("div",null,[o(e)?(i(),c("div",D,[o(e).item?(i(),c("div",J,[s("div",F,[s("div",L,[s("img",{class:"max-h-full",src:(b=o(e).item.album.images[0])==null?void 0:b.url,alt:"Album Cover"},null,8,R)]),s("div",H,[s("p",K,v(o(e).item.name),1),s("p",Q,v(o(e).item.artists.map(h=>h.name).join(", ")),1)]),s("div",W,[o(_).product==="premium"?(i(),c("div",X,[s("button",{onClick:u[0]||(u[0]=h=>l())},"\u23EE"),s("button",{onClick:u[1]||(u[1]=h=>f())},"\u23EF"),s("button",{onClick:u[2]||(u[2]=h=>x())},"\u23ED")])):y("",!0),s("p",null,v(a(o(e).progress_ms))+" / "+v(a(o(e).item.duration_ms)),1)])]),s("div",Y,[Z,o(e).progress_ms!==null?(i(),c("div",{key:0,class:"absolute bg-white h-full",style:T({width:`${o(e).progress_ms/o(e).item.duration_ms*100}%`})},null,4)):y("",!0)])])):(i(),c("div",ee," Ad is playing "))])):y("",!0)])}}}),ne={class:"flex justify-center items-center h-[80vh] w-full p-5"},se=$({__name:"home",setup(p){const r=C("currentSlide",()=>0),e=()=>{r.value++,r.value>=2&&(r.value=0)};return(_,a)=>{const d=M,l=z,f=V,x=te;return i(),c("section",null,[w(d),s("div",ne,[w(E,{name:"statistics",mode:"out-in"},{default:j(()=>[o(r)===0?(i(),S(l,{key:0,onClick:a[0]||(a[0]=n=>e())})):o(r)===1?(i(),S(f,{key:1,onClick:a[1]||(a[1]=n=>e())})):y("",!0)]),_:1})]),w(x)])}}});const re=g(se,[["__scopeId","data-v-56b64558"]]);export{re as default};
