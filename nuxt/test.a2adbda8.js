import{w as l,r as h,o as i,b as _,e as t,p as m,q as f,u as n,s as c,v as k}from"./entry.5960a05f.js";const v={key:0},g=t("p",null,"something went wrong",-1),w={key:1},y=t("br",null,null,-1),x=t("br",null,null,-1),S={__name:"test",async setup(B){let e,o;const p=localStorage.getItem("auth-token");var s,a;const r=([e,o]=l(()=>fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${p}`}})),e=await e,o(),e);return r.ok?s=([e,o]=l(()=>r.json()),e=await e,o(),e):a=([e,o]=l(()=>r.text()),e=await e,o(),e),(N,b)=>{var u;const d=h("router-link");return i(),_("div",null,[t("div",null,[m(d,{to:"/"},{default:f(()=>[k("Go Home")]),_:1})]),n(a)?(i(),_("div",v,[g,t("p",null,c(n(a)),1)])):(i(),_("div",w,[y,t("p",null,"You are logged in as "+c((u=n(s))==null?void 0:u.display_name),1),x,t("p",null,c(JSON.stringify(n(s))),1)]))])}}};export{S as default};
