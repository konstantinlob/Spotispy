import{w as l,y as h,o as i,b as _,e as t,q as m,r as f,u as s,l as c,s as k}from"./entry.92b08503.js";const y=k("Go Home"),g={key:0},v=t("p",null,"something went wrong",-1),w={key:1},x=t("br",null,null,-1),B=t("br",null,null,-1),V={__name:"test",async setup(N){let e,o;const d=localStorage.getItem("auth-token");var n,a;const r=([e,o]=l(()=>fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${d}`}})),e=await e,o(),e);return r.ok?n=([e,o]=l(()=>r.json()),e=await e,o(),e):a=([e,o]=l(()=>r.text()),e=await e,o(),e),(b,C)=>{var u;const p=h("router-link");return i(),_("div",null,[t("div",null,[m(p,{to:"/"},{default:f(()=>[y]),_:1})]),s(a)?(i(),_("div",g,[v,t("p",null,c(s(a)),1)])):(i(),_("div",w,[x,t("p",null,"You are logged in as "+c((u=s(n))==null?void 0:u.display_name),1),B,t("p",null,c(JSON.stringify(s(n))),1)]))])}}};export{V as default};
